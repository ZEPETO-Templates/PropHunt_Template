fileFormatVersion: 2
guid: f3eaf574edef5784dab3be7cb1fe1bda
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst ZEPETO_World_Gui_1 = require(\"ZEPETO.World.Gui\");\r\nconst
    UIPlayerListTemplate_1 = require(\"../UI/UIPlayerListTemplate\");\r\nconst MultiplayerPropHuntManager_1
    = require(\"../Multiplayer/MultiplayerPropHuntManager\");\r\nconst WinnerScreen_1
    = require(\"../UI/WinnerScreen\");\r\nconst LobbyElementPool_1 = require(\"../UI/LobbyElementPool\");\r\n//
    This function is responsible for all the tasks that need to be displayed on the
    UI\r\nclass UIManager extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n   
    constructor() {\r\n        super(...arguments);\r\n        this.propsAmount =
    0;\r\n    }\r\n    Awake() {\r\n        // Singleton pattern\r\n        if (ZEPETO_Script_1.ZepetoScriptBehaviour.op_Inequality(UIManager.instance,
    null))\r\n            UnityEngine_1.GameObject.Destroy(this.gameObject);\r\n       
    else\r\n            UIManager.instance = this;\r\n        // Get the reference
    of the script of the lobby element\r\n        this._lobbyElementPool = this.lobbyElementPool.GetComponent($typeof(LobbyElementPool_1.default));\r\n   
    }\r\n    // This functions is called when one player is added to the game\r\n   
    OnZepetoAddPlayer(sessionId) {\r\n        // Get a reference of an element of
    the pool calling to the function of the script\r\n        let uiElement = this._lobbyElementPool.GetElement();\r\n       
    // populate the ui element with the data of the new player\r\n        uiElement.GetComponent($typeof(UIPlayerListTemplate_1.default)).Populate(sessionId);\r\n   
    }\r\n    // This functions is called when someone leaves the game\r\n    OnZepetoRemovePlayer(sessionId)
    {\r\n        // Call to the function of the lobby pool passing the player that
    leaves\r\n        this._lobbyElementPool.ReturnElementById(sessionId);\r\n   
    }\r\n    // This function updates the lobby info \r\n    RefreshLobby() {\r\n       
    // For each player data in the multiplayer manager\r\n        MultiplayerPropHuntManager_1.default.instance.playersData.forEach(PlayerData
    => {\r\n            // For each pool element in the pool list\r\n           
    this._lobbyElementPool.GetActiveList().forEach(poolElement => {\r\n               
    // Check if the session id of the player is equal to the  pool element\r\n               
    if (PlayerData.sessionId == poolElement.GetComponent($typeof(UIPlayerListTemplate_1.default)).GetUser())
    {\r\n                    // Then populate the pool element with the player data\r\n                   
    poolElement.GetComponent($typeof(UIPlayerListTemplate_1.default)).Populate(PlayerData.sessionId);\r\n               
    }\r\n            });\r\n        });\r\n    }\r\n    // This function updates
    the txt of the props amount receiving the actual amount by parameter\r\n    UpdatePropsCounter(amount)
    {\r\n        this.txtPropsCounter.text = amount.toString() + \"/\" + this.propsAmount.toString();\r\n   
    }\r\n    // This method controls the visual of the timer, normalizing the time
    to mins and secs\r\n    UpdateTimeRemaining(timeRemaining) {\r\n        // We
    round the value of the minutes\r\n        let tempMin = UnityEngine_1.Mathf.FloorToInt(timeRemaining
    / 60);\r\n        // We round the value of the seconds\r\n        let tempSeg
    = UnityEngine_1.Mathf.RoundToInt(timeRemaining % 60);\r\n        // We create
    a text variable for the minutes\r\n        let tempMinString = tempMin <= 0 ?
    \" \" : tempMin.toString() + \" : \";\r\n        // We create a text variable
    for the seconds\r\n        let tempSegString = tempSeg < 10 ? \"0\" + tempSeg
    : tempSeg.toString();\r\n        // We update the \"remaininTxt\" text to a text
    string consisting of \"tempMinString\" and \"tempSegString\"\r\n        this.txtTime.text
    = tempMinString + tempSegString;\r\n    }\r\n    // This functions updates the
    fill amount of the charging icon image\r\n    UpdateChargeFillAmount(percentage)
    {\r\n        this.iconCharge.fillAmount = percentage;\r\n    }\r\n    // This
    function shows or hide the icon of the charging image and position it by parameters\r\n   
    ShowIconPercentage(show, pointerPos) {\r\n        // Activate the icon by the
    passed parameter\r\n        this.icon.SetActive(show);\r\n        // Positioning
    the icon by the parameter\r\n        this.icon.transform.position = pointerPos;\r\n   
    }\r\n    // This function shows the catched text for the hunter\r\n    ShowCatchedText()
    {\r\n        // Call to start a coroutine to show the text\r\n        this.StartCoroutine(this.ShowCatchedTextCoroutine());\r\n   
    }\r\n    // Coroutine to show the catched text \r\n    *ShowCatchedTextCoroutine()
    {\r\n        // Active the text\r\n        this.catchedText.gameObject.SetActive(true);\r\n       
    // Wait 1 second\r\n        yield new UnityEngine_1.WaitForSeconds(1);\r\n       
    // Deactivate the text\r\n        this.catchedText.gameObject.SetActive(false);\r\n   
    }\r\n    // This function switchs the canvas showed for the player\r\n    SwitchGameUI(isHunter
    = false) {\r\n        // If is not hunter then activate the non hunter canvas\r\n       
    this.nonHunterCanvas.SetActive(!isHunter);\r\n        // If is hunter activate
    the hunter canvas\r\n        this.hunterCanvas.SetActive(isHunter);\r\n    }\r\n   
    // This function shows the blackout screen by a parameter\r\n    ShowBlackoutScreen(value)
    {\r\n        this.huntersBlackoutScreen.SetActive(value);\r\n    }\r\n    //
    This function shows the winner screen by a parameter\r\n    ShowWinScreen(huntersWins)
    {\r\n        // Get the component WinnerScreen from the go saved and call to
    the function SetWinner sending the parameter\r\n        let winnerScript = this.winnerScreen.GetComponent($typeof(WinnerScreen_1.default));\r\n       
    winnerScript.SetWinner(huntersWins);\r\n    }\r\n    // This function hides the
    winner screen\r\n    HideWinnerScreen() {\r\n        this.propsAmount = 0;\r\n       
    this.winnerScreen.SetActive(false);\r\n    }\r\n    // This function returns
    the hunter parent variable\r\n    GetLobbyHunterParent() {\r\n        return
    this.huntersParent;\r\n    }\r\n    // This function returns the non hunter parent
    variable\r\n    GetLobbyNonHunterParent() {\r\n        return this.nonHuntersParent;\r\n   
    }\r\n}\r\nexports.default = UIManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVUlNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVUlNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQW9GO0FBRXBGLGlEQUFxRDtBQUNyRCx1REFBOEM7QUFDOUMscUVBQThEO0FBQzlELDBGQUF3RztBQUN4RyxxREFBOEM7QUFDOUMsNkRBQXNEO0FBR3RELHFGQUFxRjtBQUNyRixNQUFxQixTQUFVLFNBQVEscUNBQXFCO0lBQTVEOztRQXlCOEIsZ0JBQVcsR0FBVyxDQUFDLENBQUM7SUFrSXRELENBQUM7SUE3SEcsS0FBSztRQUNELG9CQUFvQjtRQUNwQixJQXpDQyxxQ0FBcUIsQ0FrSkYsYUFBYyxDQXpHOUIsU0FBUyxDQUFDLFFBQVEsRUFBSSxJQUFJO1lBQUUsd0JBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDOztZQUMvRCxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUUvQix1REFBdUQ7UUFDdkQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLFNBQUMsMEJBQWdCLEVBQUcsQ0FBQztJQUNwRixDQUFDO0lBRUQsZ0VBQWdFO0lBQ3pELGlCQUFpQixDQUFDLFNBQWlCO1FBQ3RDLGtGQUFrRjtRQUNsRixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDcEQsMERBQTBEO1FBQzFELFNBQVMsQ0FBQyxZQUFZLFNBQUMsOEJBQW9CLEdBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCx3REFBd0Q7SUFDakQsb0JBQW9CLENBQUMsU0FBaUI7UUFDekMsd0VBQXdFO1FBQ3hFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRUQsd0NBQXdDO0lBQ2pDLFlBQVk7UUFDZixrREFBa0Q7UUFDbEQsb0NBQTBCLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDakUseUNBQXlDO1lBQ3pDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7Z0JBQ3pELHNFQUFzRTtnQkFDdEUsSUFBSSxVQUFVLENBQUMsU0FBUyxJQUFJLFdBQVcsQ0FBQyxZQUFZLFNBQUMsOEJBQW9CLEdBQUksT0FBTyxFQUFFLEVBQUU7b0JBQ3BGLHNEQUFzRDtvQkFDdEQsV0FBVyxDQUFDLFlBQVksU0FBQyw4QkFBb0IsR0FBSSxRQUFRLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2lCQUNuRjtZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsNkZBQTZGO0lBQzdGLGtCQUFrQixDQUFDLE1BQWM7UUFDN0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsRUFBRSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3RGLENBQUM7SUFFRCxzRkFBc0Y7SUFDdEYsbUJBQW1CLENBQUMsYUFBcUI7UUFDckMsb0NBQW9DO1FBQ3BDLElBQUksT0FBTyxHQUFXLG1CQUFLLENBQUMsVUFBVSxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUUzRCxvQ0FBb0M7UUFDcEMsSUFBSSxPQUFPLEdBQVcsbUJBQUssQ0FBQyxVQUFVLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBRTNELDRDQUE0QztRQUM1QyxJQUFJLGFBQWEsR0FBVyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFFNUUsNENBQTRDO1FBQzVDLElBQUksYUFBYSxHQUFXLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUU5RSxzR0FBc0c7UUFDdEcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN0RCxDQUFDO0lBRUQsb0VBQW9FO0lBQ3BFLHNCQUFzQixDQUFDLFVBQWtCO1FBQ3JDLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM1QyxDQUFDO0lBRUQsMkZBQTJGO0lBQzNGLGtCQUFrQixDQUFDLElBQVUsRUFBRSxVQUFtQjtRQUM5Qyw0Q0FBNEM7UUFDNUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsd0NBQXdDO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUM7SUFDOUMsQ0FBQztJQUVELHNEQUFzRDtJQUN0RCxlQUFlO1FBQ1gsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsc0NBQXNDO0lBQ3RDLENBQUMsd0JBQXdCO1FBQ3JCLGtCQUFrQjtRQUNsQixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsZ0JBQWdCO1FBQ2hCLE1BQU0sSUFBSSw0QkFBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLHNCQUFzQjtRQUN0QixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELHlEQUF5RDtJQUN6RCxZQUFZLENBQUMsV0FBb0IsS0FBSztRQUNsQyx1REFBdUQ7UUFDdkQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxQywwQ0FBMEM7UUFDMUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELHlEQUF5RDtJQUN6RCxrQkFBa0IsQ0FBQyxLQUFjO1FBQzdCLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELHVEQUF1RDtJQUN2RCxhQUFhLENBQUMsV0FBb0I7UUFDOUIsNEdBQTRHO1FBQzVHLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxTQUFDLHNCQUFZLEVBQUcsQ0FBQztRQUNsRSxZQUFZLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFRCx3Q0FBd0M7SUFDeEMsZ0JBQWdCO1FBQ1osSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELG1EQUFtRDtJQUM1QyxvQkFBb0I7UUFDdkIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzlCLENBQUM7SUFFRCx1REFBdUQ7SUFDaEQsdUJBQXVCO1FBQzFCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQ2pDLENBQUM7Q0FDSjtBQTNKRCw0QkEySkMifQ==","assetPath":"Assets/PropHunt_Template/_Scripts/Managers/UIManager.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"icon","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"iconCharge","type":"UnityEngine.UI.Image","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"ZEPETO.World.Gui","name":"txtTime","type":"ZEPETO.World.Gui.ZepetoText","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"teamSelectorObj","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"huntersParent","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"nonHuntersParent","type":"UnityEngine.Transform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"nonHunterCanvas","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"Header","args":["\"NonHunter\""]},{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"sliderRot","type":"UnityEngine.UI.Slider","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"hunterCanvas","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"Header","args":["\"Hunter\""]},{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"huntersBlackoutScreen","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"ZEPETO.World.Gui","name":"catchedText","type":"ZEPETO.World.Gui.ZepetoText","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"winnerScreen","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"Header","args":["\"General\""]},{"name":"SerializeField","args":[]}]},{"assembly":"ZEPETO.World.Gui","name":"txtPropsCounter","type":"ZEPETO.World.Gui.ZepetoText","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"mscorlib","name":"propsAmount","type":"System.Single","isArray":false,"initValue":["0"],"enumKeys":[],"enumValues":[],"attributes":[{"name":"HideInInspector","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"lobbyElementPool","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"UIManager","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 0d36731af90682dbf7974a30718f0a96
  onlyWriteTrigger: 0
