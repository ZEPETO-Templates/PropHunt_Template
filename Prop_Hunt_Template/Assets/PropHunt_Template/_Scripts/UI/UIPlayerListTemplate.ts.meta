fileFormatVersion: 2
guid: 67e18129cea5d064d8202d7ca0f0e100
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst __UnityEngine__ = require(\"UnityEngine\");\r\nconst
    UnityEngine_1 = require(\"UnityEngine\");\r\nconst UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst
    ZEPETO_Character_Controller_1 = require(\"ZEPETO.Character.Controller\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst ZEPETO_World_Gui_1 = require(\"ZEPETO.World.Gui\");\r\nconst
    MultiplayerPropHuntManager_1 = require(\"../Multiplayer/MultiplayerPropHuntManager\");\r\nconst
    UIManager_1 = require(\"../Managers/UIManager\");\r\n// This class controls each
    player tab of the player list on the lobby\r\nclass UIPlayerListTemplate extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    // This function populates the
    tab for the player passed as parameter\r\n    Populate(sessionId, teamChanged
    = false, isFirstCharge = false) {\r\n        // Save the session id\r\n       
    this._user = sessionId;\r\n        const player = ZEPETO_Character_Controller_1.ZepetoPlayers.instance.GetPlayer(sessionId);\r\n       
    const thumb = UIManager_1.default.instance.thumbnailsCreator.GetPlayerThumb(player.userId);\r\n       
    if (thumb)\r\n            this.readyIcon.sprite = thumb;\r\n        else if (!this.coroutineWaiting)\r\n           
    this.coroutineWaiting = this.StartCoroutine(this.WaitForSprite(player.userId));\r\n       
    // Change the name text by getting the player name with the session id\r\n       
    this.txtName.text = player.name;\r\n        // Check if the player is hunter\r\n       
    if (MultiplayerPropHuntManager_1.default.instance.GetPlayerData(sessionId).isHunter)
    {\r\n            // Call to the function to change the parent getting the parent
    from the UIManager\r\n            this.ChangeParent(UIManager_1.default.instance.GetLobbyHunterParent());\r\n           
    this._isHunter = true;\r\n            if (teamChanged)\r\n                UIManager_1.default.instance.UpdateCountersInLobby(true);\r\n           
    if (isFirstCharge)\r\n                UIManager_1.default.instance.AddOneCounterInLobby(true);\r\n       
    }\r\n        else {\r\n            // Call to the function to change the parent
    getting the parent from the UIManager\r\n            this.ChangeParent(UIManager_1.default.instance.GetLobbyNonHunterParent());\r\n           
    this._isHunter = false;\r\n            if (teamChanged)\r\n                UIManager_1.default.instance.UpdateCountersInLobby(false);\r\n           
    if (isFirstCharge)\r\n                UIManager_1.default.instance.AddOneCounterInLobby(false);\r\n       
    }\r\n        // Set the scale of this on one (1,1,1)\r\n        this.transform.localScale
    = UnityEngine_1.Vector3.one;\r\n        this.SetHunter(this._isHunter);\r\n   
    }\r\n    // This function returns the user\r\n    GetUser() {\r\n        return
    this._user;\r\n    }\r\n    // This function sets the user\r\n    SetUser(user)
    {\r\n        this._user = user;\r\n    }\r\n    // This function sets the displayed
    name\r\n    SetDisplayName(text) {\r\n        this.txtName.text = text;\r\n   
    }\r\n    // This function set the color of the label if it is hunter or not\r\n   
    SetHunter(isHunter) {\r\n        if (isHunter) {\r\n            this.txtName.color
    = this.hunterColor;\r\n            this.readyTextImg.color = this.hunterColor;\r\n           
    this.checkmarkImg.color = this.hunterColor;\r\n        }\r\n        else {\r\n           
    this.txtName.color = this.propColor;\r\n            this.readyTextImg.color =
    this.propColor;\r\n            this.checkmarkImg.color = this.propColor;\r\n       
    }\r\n    }\r\n    // This function changes the parent of this to the transform
    sended as parameter\r\n    ChangeParent(newParent) {\r\n        this.transform.SetParent(newParent);\r\n   
    }\r\n    *WaitForSprite(userId) {\r\n        let thumb = UIManager_1.default.instance.thumbnailsCreator.GetPlayerThumb(userId);\r\n       
    while (__UnityEngine__.Object.op_Equality(thumb, null)) {\r\n            yield
    new UnityEngine_1.WaitForSeconds(3);\r\n            thumb = UIManager_1.default.instance.thumbnailsCreator.GetPlayerThumb(userId);\r\n       
    }\r\n        this.readyIcon.sprite = thumb;\r\n        yield null;\r\n    }\r\n}\r\nexports.default
    = UIPlayerListTemplate;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVUlQbGF5ZXJMaXN0VGVtcGxhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJVSVBsYXllckxpc3RUZW1wbGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw2Q0FBa0c7QUFDbEcsbURBQXVDO0FBQ3ZDLDZFQUEwRTtBQUMxRSxpREFBcUQ7QUFDckQsdURBQTZDO0FBQzdDLDBGQUFtRjtBQUNuRixxREFBOEM7QUFFOUMsc0VBQXNFO0FBQ3RFLE1BQXFCLG9CQUFxQixTQUFRLHFDQUFxQjtJQWNuRSxxRUFBcUU7SUFDOUQsUUFBUSxDQUFDLFNBQWlCLEVBQUUsY0FBb0IsS0FBSyxFQUFFLGdCQUFzQixLQUFLO1FBQ3JGLHNCQUFzQjtRQUN0QixJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztRQUV2QixNQUFNLE1BQU0sR0FBaUIsMkNBQWEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pFLE1BQU0sS0FBSyxHQUFXLG1CQUFTLENBQUMsUUFBUSxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFekYsSUFBSSxLQUFLO1lBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2FBQ3BDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUVoSCxzRUFBc0U7UUFDdEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUVoQyxnQ0FBZ0M7UUFDaEMsSUFBSSxvQ0FBMEIsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtZQUN2RSxrRkFBa0Y7WUFDbEYsSUFBSSxD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","assetPath":"Assets/PropHunt_Template/_Scripts/UI/UIPlayerListTemplate.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"propColor","type":"UnityEngine.Color","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"hunterColor","type":"UnityEngine.Color","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"ZEPETO.World.Gui","name":"txtName","type":"ZEPETO.World.Gui.ZepetoText","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"readyTextImg","type":"UnityEngine.UI.Image","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"checkmarkImg","type":"UnityEngine.UI.Image","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"readyIcon","type":"UnityEngine.UI.Image","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"mscorlib","name":"_isHunter","type":"System.Boolean","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"_user","type":"System.String","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"coroutineWaiting","type":"UnityEngine.Coroutine","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"UIPlayerListTemplate","description":"","hasAnimatorMove":false},"isCompiled":true}'
  typescriptHash: 19ee62335c25ea13432abb734736ac5d
  onlyWriteTrigger: 0
